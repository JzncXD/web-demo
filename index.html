<!DOCTYPE html>
<html>
  <head>
    <title>Snake Game</title>
  </head>
  <body bgcolor="#2c3e50" style="margin:0;overflow:hidden;font-family:Arial,sans-serif;">
    
    <center>
      <h1><font color="#2ecc71" size="7">üêç SNAKE GAME</font></h1>
      
      <div id="scoreBoard" style="background:#34495e;padding:15px;border-radius:10px;width:500px;margin:20px auto;">
        <table width="100%" cellpadding="0" cellspacing="0">
          <tr>
            <td width="50%">
              <font color="#ffffff" size="5">Score: <span id="score" style="color:#f1c40f;">0</span></font>
            </td>
            <td width="50%" align="right">
              <font color="#ffffff" size="5">High Score: <span id="highScore" style="color:#e74c3c;">0</span></font>
            </td>
          </tr>
        </table>
      </div>
      
      <canvas id="gameCanvas" width="500" height="500" style="background:#1a1a1a;border:5px solid #2ecc71;border-radius:10px;"></canvas>
      
      <br><br>
      
      <div id="instructions">
        <h2><font color="#ffffff">Use Arrow Keys to Move!</font></h2>
        <table cellpadding="10">
          <tr>
            <td></td>
            <td><button style="width:60px;height:60px;font-size:24px;background:#3498db;color:white;border:none;border-radius:5px;cursor:pointer;">‚ñ≤</button></td>
            <td></td>
          </tr>
          <tr>
            <td><button style="width:60px;height:60px;font-size:24px;background:#3498db;color:white;border:none;border-radius:5px;cursor:pointer;">‚óÑ</button></td>
            <td><button style="width:60px;height:60px;font-size:24px;background:#3498db;color:white;border:none;border-radius:5px;cursor:pointer;">‚ñº</button></td>
            <td><button style="width:60px;height:60px;font-size:24px;background:#3498db;color:white;border:none;border-radius:5px;cursor:pointer;">‚ñ∫</button></td>
          </tr>
        </table>
        <br>
        <button onclick="startGame()" style="background:#2ecc71;color:#ffffff;border:none;padding:15px 40px;font-size:24px;border-radius:10px;cursor:pointer;font-weight:bold;">START GAME</button>
      </div>
      
      <div id="gameOver" style="display:none;">
        <h2><font color="#e74c3c" size="6">GAME OVER!</font></h2>
        <h3><font color="#ffffff">Final Score: <span id="finalScore">0</span></font></h3>
        <button onclick="restartGame()" style="background:#f39c12;color:#ffffff;border:none;padding:15px 40px;font-size:24px;border-radius:10px;cursor:pointer;font-weight:bold;">PLAY AGAIN</button>
      </div>
      
      <br>
      <p><font color="#95a5a6" size="3">Eat the red apples to grow! Don't hit the walls or yourself!</font></p>
      
    </center>
    
    <script>
      const canvas = document.getElementById('gameCanvas');
      const ctx = canvas.getContext('2d');
      
      const gridSize = 20;
      const tileCount = canvas.width / gridSize;
      
      let snake = [];
      let snakeLength = 5;
      let headX = 10;
      let headY = 10;
      let velocityX = 0;
      let velocityY = 0;
      let appleX = 15;
      let appleY = 15;
      let score = 0;
      let highScore = localStorage.getItem('snakeHighScore') || 0;
      let gameRunning = false;
      let gameSpeed = 100;
      
      document.getElementById('highScore').innerText = highScore;
      
      // Start game
      function startGame() {
        document.getElementById('instructions').style.display = 'none';
        document.getElementById('gameOver').style.display = 'none';
        
        // Reset game
        snake = [];
        snakeLength = 5;
        headX = 10;
        headY = 10;
        velocityX = 1;
        velocityY = 0;
        score = 0;
        gameSpeed = 100;
        updateScore();
        placeApple();
        
        gameRunning = true;
        gameLoop();
      }
      
      // Restart game
      function restartGame() {
        startGame();
      }
      
      // Arrow key controls
      document.addEventListener('keydown', function(e) {
        if (!gameRunning) return;
        
        // Up arrow
        if (e.keyCode === 38 && velocityY !== 1) {
          velocityX = 0;
          velocityY = -1;
          e.preventDefault();
        }
        // Down arrow
        if (e.keyCode === 40 && velocityY !== -1) {
          velocityX = 0;
          velocityY = 1;
          e.preventDefault();
        }
        // Left arrow
        if (e.keyCode === 37 && velocityX !== 1) {
          velocityX = -1;
          velocityY = 0;
          e.preventDefault();
        }
        // Right arrow
        if (e.keyCode === 39 && velocityX !== -1) {
          velocityX = 1;
          velocityY = 0;
          e.preventDefault();
        }
      });
      
      // Place apple randomly
      function placeApple() {
        appleX = Math.floor(Math.random() * tileCount);
        appleY = Math.floor(Math.random() * tileCount);
        
        // Make sure apple doesn't spawn on snake
        for (let i = 0; i < snake.length; i++) {
          if (snake[i].x === appleX && snake[i].y === appleY) {
            placeApple();
            return;
          }
        }
      }
      
      // Update score
      function updateScore() {
        document.getElementById('score').innerText = score;
        
        if (score > highScore) {
          highScore = score;
          localStorage.setItem('snakeHighScore', highScore);
          document.getElementById('highScore').innerText = highScore;
        }
      }
      
      // Draw game
      function drawGame() {
        // Clear canvas
        ctx.fillStyle = '#1a1a1a';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        // Draw grid
        ctx.strokeStyle = '#2d2d2d';
        ctx.lineWidth = 1;
        for (let i = 0; i <= tileCount; i++) {
          ctx.beginPath();
          ctx.moveTo(i * gridSize, 0);
          ctx.lineTo(i * gridSize, canvas.height);
          ctx.stroke();
          
          ctx.beginPath();
          ctx.moveTo(0, i * gridSize);
          ctx.lineTo(canvas.width, i * gridSize);
          ctx.stroke();
        }
        
        // Move snake
        headX += velocityX;
        headY += velocityY;
        
        // Check wall collision
        if (headX < 0 || headX >= tileCount || headY < 0 || headY >= tileCount) {
          endGame();
          return;
        }
        
        // Check self collision
        for (let i = 0; i < snake.length; i++) {
          if (snake[i].x === headX && snake[i].y === headY) {
            endGame();
            return;
          }
        }
        
        // Add new head position
        snake.push({ x: headX, y: headY });
        
        // Remove tail if snake hasn't eaten
        while (snake.length > snakeLength) {
          snake.shift();
        }
        
        // Check if apple eaten
        if (headX === appleX && headY === appleY) {
          snakeLength++;
          score += 10;
          updateScore();
          placeApple();
          
          // Speed up slightly
          if (gameSpeed > 50) {
            gameSpeed -= 2;
          }
        }
        
        // Draw snake
        for (let i = 0; i < snake.length; i++) {
          if (i === snake.length - 1) {
            // Head
            ctx.fillStyle = '#2ecc71';
          } else {
            // Body
            ctx.fillStyle = '#27ae60';
          }
          
          ctx.fillRect(
            snake[i].x * gridSize + 2,
            snake[i].y * gridSize + 2,
            gridSize - 4,
            gridSize - 4
          );
          
          // Eyes on head
          if (i === snake.length - 1) {
            ctx.fillStyle = '#ffffff';
            if (velocityX === 1) { // Moving right
              ctx.fillRect(snake[i].x * gridSize + 12, snake[i].y * gridSize + 5, 3, 3);
              ctx.fillRect(snake[i].x * gridSize + 12, snake[i].y * gridSize + 12, 3, 3);
            } else if (velocityX === -1) { // Moving left
              ctx.fillRect(snake[i].x * gridSize + 5, snake[i].y * gridSize + 5, 3, 3);
              ctx.fillRect(snake[i].x * gridSize + 5, snake[i].y * gridSize + 12, 3, 3);
            } else if (velocityY === -1) { // Moving up
              ctx.fillRect(snake[i].x * gridSize + 5, snake[i].y * gridSize + 5, 3, 3);
              ctx.fillRect(snake[i].x * gridSize + 12, snake[i].y * gridSize + 5, 3, 3);
            } else if (velocityY === 1) { // Moving down
              ctx.fillRect(snake[i].x * gridSize + 5, snake[i].y * gridSize + 12, 3, 3);
              ctx.fillRect(snake[i].x * gridSize + 12, snake[i].y * gridSize + 12, 3, 3);
            }
          }
        }
        
        // Draw apple
        ctx.fillStyle = '#e74c3c';
        ctx.fillRect(
          appleX * gridSize + 2,
          appleY * gridSize + 2,
          gridSize - 4,
          gridSize - 4
        );
        
        // Apple shine
        ctx.fillStyle = '#ffffff';
        ctx.fillRect(
          appleX * gridSize + 4,
          appleY * gridSize + 4,
          4,
          4
        );
      }
      
      // Game loop
      function gameLoop() {
        if (!gameRunning) return;
        
        drawGame();
        setTimeout(gameLoop, gameSpeed);
      }
      
      // End game
      function endGame() {
        gameRunning = false;
        document.getElementById('finalScore').innerText = score;
        document.getElementById('gameOver').style.display = 'block';
      }
      
      // Draw initial state
      ctx.fillStyle = '#1a1a1a';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      
      ctx.fillStyle = '#2ecc71';
      ctx.font = 'bold 30px Arial';
      ctx.fillText('Press START to Play!', 120, 260);
    </script>
    
  </body>
</html>
